<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Email Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/Email" class="dashAnchor"></a>
    <a title="Email Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">SendGrid Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/scottkawai/sendgrid-swift"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">SendGrid Reference</a>
        <img id="carat" src="../img/carat.png" />
        Email Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Attachment.html">Attachment</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Email.html">Email</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Personalization.html">Personalization</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Session.html">Session</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SuppressionListDeleter.html">SuppressionListDeleter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SuppressionListReader.html">SuppressionListReader</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/ContentDisposition.html">ContentDisposition</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/AutoEncodable.html">AutoEncodable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/EmailEventRepresentable.html">EmailEventRepresentable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/EmailHeaderRepresentable.html">EmailHeaderRepresentable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Scheduling.html">Scheduling</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Validatable.html">Validatable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/ASM.html">ASM</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Address.html">Address</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/BCCSetting.html">BCCSetting</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Block.html">Block</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Block/Delete.html">– Delete</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Block.html#/s:8SendGrid5BlockV3GetC">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Bounce.html">Bounce</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Bounce/Delete.html">– Delete</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Bounce.html#/s:8SendGrid6BounceV3GetC">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/BypassListManagement.html">BypassListManagement</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ClickTracking.html">ClickTracking</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ClickTracking/Section.html">– Section</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Content.html">Content</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ContentType.html">ContentType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DecodingStrategy.html">DecodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/EncodingStrategy.html">EncodingStrategy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception.html">Exception</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Authentication.html">– Authentication</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/ContentType.html">– ContentType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Global.html">– Global</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Mail.html">– Mail</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Request.html">– Request</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Session.html">– Session</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Exception/Statistic.html">– Statistic</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Footer.html">Footer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GlobalUnsubscribe.html">GlobalUnsubscribe</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GlobalUnsubscribe/Add.html">– Add</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GlobalUnsubscribe/Delete.html">– Delete</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GlobalUnsubscribe.html#/s:8SendGrid17GlobalUnsubscribeV3GetC">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/GoogleAnalytics.html">GoogleAnalytics</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/InvalidEmail.html">InvalidEmail</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/InvalidEmail/Delete.html">– Delete</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/InvalidEmail.html#/s:8SendGrid12InvalidEmailV3GetC">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/MailSettings.html">MailSettings</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OpenTracking.html">OpenTracking</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OpenTracking/Location.html">– Location</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Page.html">Page</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Pagination.html">Pagination</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/RateLimit.html">RateLimit</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SandboxMode.html">SandboxMode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SpamChecker.html">SpamChecker</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SpamReport.html">SpamReport</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SpamReport/Delete.html">– Delete</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SpamReport.html#/s:8SendGrid10SpamReportV3GetC">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic.html">Statistic</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Metric.html">– Metric</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Sample.html">– Sample</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Category.html">– Category</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Global.html">– Global</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Subuser.html">– Subuser</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Aggregation.html">– Aggregation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Statistic/Dimension.html">– Dimension</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SubscriptionTracking.html">SubscriptionTracking</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Subuser.html">Subuser</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Subuser/Get.html">– Get</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TrackingSettings.html">TrackingSettings</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Email</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Email</span><span class="p">:</span> <span class="kt"><a href="../Classes/Request.html">Request</a></span><span class="o">&lt;</span><span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">Any</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt"><a href="../Protocols/EmailHeaderRepresentable.html">EmailHeaderRepresentable</a></span><span class="p">,</span> <span class="kt"><a href="../Protocols/Scheduling.html">Scheduling</a></span></code></pre>

                </div>
              </div>
            <p>The <code>Email</code> class is used to make the Mail Send API call. The class allows
you to configure many different aspects of the email.</p>
<h2 id='content' class='heading'>Content</h2>

<p>To specify the content of an email, use the <code><a href="../Structs/Content.html">Content</a></code> class. In general, an 
email will have plain text and/or HTML text content, however you can specify 
other types of content, such as an ICS calendar invite. Following RFC 1341, 
section 7.2, if either HTML or plain text content are to be sent in your 
email: the plain text content needs to be first, followed by the HTML 
content, followed by any other content.</p>
<h2 id='personalizations' class='heading'>Personalizations</h2>

<p>The new V3 endpoint introduces the idea of <q>personalizations.</q>  When using 
the API, you define a set of global characteristics for the email, and then 
also define seperate personalizations, which contain recipient-specific 
information for the email. Since personalizations contain the recipients of 
the email, each request must contain at least 1 personalization.</p>
<pre class="highlight swift"><code><span class="c1">// Send a basic example</span>
<span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">plainText</span> <span class="o">=</span> <span class="kt">Content</span><span class="p">(</span><span class="nv">contentType</span><span class="p">:</span> <span class="kt">ContentType</span><span class="o">.</span><span class="n">plainText</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">htmlText</span> <span class="o">=</span> <span class="kt">Content</span><span class="p">(</span><span class="nv">contentType</span><span class="p">:</span> <span class="kt">ContentType</span><span class="o">.</span><span class="n">htmlText</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="p">[</span><span class="n">plainText</span><span class="p">,</span> <span class="n">htmlText</span><span class="p">],</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>An <code>Email</code> instance can have up to 1000 <code><a href="../Classes/Personalization.html">Personalization</a></code> instances. A 
<code><a href="../Classes/Personalization.html">Personalization</a></code> can be thought of an individual email.  It can contain 
several <code>to</code> addresses, along with <code>cc</code> and <code>bcc</code> addresses.  Keep in mind 
that if you put two addresses in a single <code><a href="../Classes/Personalization.html">Personalization</a></code> instance, each 
recipient will be able to see each other&rsquo;s email address.  If you want to 
send to several recipients where each recipient only sees their own address, 
you&rsquo;ll want to create a seperate <code><a href="../Classes/Personalization.html">Personalization</a></code> instance for each 
recipient.</p>

<p>The <code><a href="../Classes/Personalization.html">Personalization</a></code> class also allows personalizing certain email 
attributes, including:</p>

<ul>
<li>Subject</li>
<li>Headers</li>
<li>Substitution tags</li>
<li><a href="https://sendgrid.com/docs/API_Reference/SMTP_API/unique_arguments.html">Custom arguments</a></li>
<li>Scheduled sends</li>
</ul>

<p>If a <code><a href="../Classes/Personalization.html">Personalization</a></code> instance contains an email attribute that is also 
defined globally in the request (such as the subject), the <code><a href="../Classes/Personalization.html">Personalization</a></code> 
instance&rsquo;s value takes priority.</p>

<p>Here is an advanced example of using personalizations:</p>
<pre class="highlight swift"><code><span class="c1">// Send an advanced example</span>
<span class="k">let</span> <span class="nv">recipients</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"jose@example.none"</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Jose"</span><span class="p">),</span>
    <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"isaac@example.none"</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Isaac"</span><span class="p">),</span>
    <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"tim@example.none"</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Tim"</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">let</span> <span class="nv">personalizations</span> <span class="o">=</span> <span class="n">recipients</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="p">(</span><span class="n">recipient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Personalization</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">recipient</span><span class="o">.</span><span class="n">name</span> <span class="p">??</span> <span class="s">"there"</span>
    <span class="k">return</span> <span class="kt">Personalization</span><span class="p">(</span>
        <span class="nv">to</span><span class="p">:</span> <span class="p">[</span><span class="n">recipient</span><span class="p">],</span>
        <span class="nv">cc</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">bcc</span><span class="p">:</span> <span class="p">[</span><span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"bcc@example.none"</span><span class="p">)],</span>
        <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello </span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">!"</span><span class="p">,</span>
        <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="s">"X-Campaign"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">],</span>
        <span class="nv">substitutions</span><span class="p">:</span> <span class="p">[</span><span class="s">"%name%"</span><span class="p">:</span><span class="n">name</span><span class="p">],</span>
        <span class="nv">customArguments</span><span class="p">:</span> <span class="p">[</span><span class="s">"campaign_id"</span><span class="p">:</span><span class="s">"12345"</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello %name%,</span><span class="se">\n\n</span><span class="s">How are you?</span><span class="se">\n\n</span><span class="s">Best,</span><span class="se">\n</span><span class="s">Sender"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;p&gt;Hello %name%,&lt;/p&gt;&lt;p&gt;How are you?&lt;/p&gt;&lt;p&gt;Best,&lt;br&gt;Sender&lt;/p&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="n">personalizations</span><span class="p">,</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"sender@example.none"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="kc">nil</span>
<span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"X-Campaign"</span><span class="p">:</span> <span class="s">"12345"</span>
<span class="p">]</span>
<span class="n">email</span><span class="o">.</span><span class="n">customArguments</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"campaign_id"</span><span class="p">:</span> <span class="s">"12345"</span>
<span class="p">]</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>You&rsquo;ll notice in the example above, the global email defines custom headers 
and custom arguments. In addition, each personalization defines some headers 
and custom arguments. For the resulting email, the headers and custom 
arguments will be merged together. In the event of a conflict, the 
personalization&rsquo;s values will be used.</p>
<h2 id='attachments' class='heading'>Attachments</h2>

<p>The <code><a href="../Classes/Attachment.html">Attachment</a></code> class allows you to easily add attachments to an email. All 
you need is to convert your desired attachment into <code>NSData</code> and initialize 
it like so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">path</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="nf">url</span><span class="p">(</span><span class="nv">forResource</span><span class="p">:</span> <span class="s">"proposal"</span><span class="p">,</span> <span class="nv">withExtension</span><span class="p">:</span> <span class="s">"pdf"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">attachment</span> <span class="o">=</span> <span class="kt">Attachment</span><span class="p">(</span>
            <span class="nv">filename</span><span class="p">:</span> <span class="s">"proposal.pdf"</span><span class="p">,</span>
            <span class="nv">content</span><span class="p">:</span> <span class="k">try</span> <span class="kt">Data</span><span class="p">(</span><span class="nv">contentsOf</span><span class="p">:</span> <span class="n">path</span><span class="p">),</span>
            <span class="nv">disposition</span><span class="p">:</span> <span class="o">.</span><span class="n">attachment</span><span class="p">,</span>
            <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">pdf</span><span class="p">,</span>
            <span class="nv">contentID</span><span class="p">:</span> <span class="kc">nil</span>
        <span class="p">)</span>
        <span class="n">email</span><span class="o">.</span><span class="n">attachments</span> <span class="o">=</span> <span class="p">[</span><span class="n">attachment</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>You can also use attachments as inline images by setting the <code>disposition</code> 
property to <code>.Inline</code> and setting the <code>cid</code> property.  You can then 
reference that unique CID in your HTML like so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;img src=</span><span class="se">\"</span><span class="s">cid:main_logo_12345</span><span class="se">\"</span><span class="s"> /&gt;&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">filename</span> <span class="o">=</span> <span class="kt">NSImage</span><span class="o">.</span><span class="kt">Name</span><span class="p">(</span><span class="s">"logo.png"</span><span class="p">)</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">path</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="nf">urlForImageResource</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">attachment</span> <span class="o">=</span> <span class="kt">Attachment</span><span class="p">(</span>
            <span class="nv">filename</span><span class="p">:</span> <span class="s">"logo.png"</span><span class="p">,</span>
            <span class="nv">content</span><span class="p">:</span> <span class="k">try</span> <span class="kt">Data</span><span class="p">(</span><span class="nv">contentsOf</span><span class="p">:</span> <span class="n">path</span><span class="p">),</span>
            <span class="nv">disposition</span><span class="p">:</span> <span class="o">.</span><span class="n">inline</span><span class="p">,</span>
            <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">png</span><span class="p">,</span>
            <span class="nv">contentID</span><span class="p">:</span> <span class="s">"main_logo_12345"</span>
        <span class="p">)</span>
        <span class="n">email</span><span class="o">.</span><span class="n">attachments</span> <span class="o">=</span> <span class="p">[</span><span class="n">attachment</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='mail-and-tracking-settings' class='heading'>Mail and Tracking Settings</h2>

<p>There are various classes available that you can use to modify the 
<a href="https://sendgrid.com/docs/User_Guide/Settings/mail.html">mail</a> and 
<a href="https://sendgrid.com/docs/User_Guide/Settings/tracking.html">tracking</a> 
settings for a specific email.</p>

<p><strong>MAIL SETTINGS</strong></p>

<p>The following mail setting classes are available:</p>

<ul>
<li><code><a href="../Structs/BCCSetting.html">BCCSetting</a></code> - This allows you to have a blind carbon copy automatically 
sent to the specified email address for every email that is sent.</li>
<li><code><a href="../Structs/BypassListManagement.html">BypassListManagement</a></code> - Allows you to bypass all unsubscribe groups and 
suppressions to ensure that the email is delivered to every single 
recipient. This should only be used in emergencies when it is absolutely 
necessary that every recipient receives your email. Ex: outage emails, or 
forgot password emails.</li>
<li><code><a href="../Structs/Footer.html">Footer</a></code> - The default footer that you would like appended to the bottom 
of every email.</li>
<li><code><a href="../Structs/SandboxMode.html">SandboxMode</a></code> - This allows you to send a test email to ensure that your 
request body is valid and formatted correctly. For more information, please 
see the <a href="https://sendgrid.com/docs/Classroom/Send/v3_Mail_Send/sandbox_mode.html">Classroom</a>.</li>
<li><code><a href="../Structs/SpamChecker.html">SpamChecker</a></code> -  This allows you to test the content of your email for 
spam.</li>
</ul>

<p><strong>TRACKING SETTINGS</strong></p>

<p>The following tracking setting classes are available:</p>

<ul>
<li><code><a href="../Structs/ClickTracking.html">ClickTracking</a></code> - Allows you to track whether a recipient clicked a link 
in your email.</li>
<li><code><a href="../Structs/GoogleAnalytics.html">GoogleAnalytics</a></code> - Allows you to enable tracking provided by Google 
Analytics.</li>
<li><code><a href="../Structs/OpenTracking.html">OpenTracking</a></code> - Allows you to track whether the email was opened or not, 
but including a single pixel image in the body of the content. When the 
pixel is loaded, we can log that the email was opened.</li>
<li><code><a href="../Structs/SubscriptionTracking.html">SubscriptionTracking</a></code> - Allows you to insert a subscription management 
link at the bottom of the text and html bodies of your email. If you would 
like to specify the location of the link within your email, you may specify 
a substitution tag.</li>
</ul>

<p><strong>EXAMPLE</strong></p>

<p>Each setting has its own properties that can be configured, but here&rsquo;s a 
basic example:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">mailSettings</span><span class="o">.</span><span class="n">footer</span> <span class="o">=</span> <span class="kt">Footer</span><span class="p">(</span>
    <span class="nv">text</span><span class="p">:</span> <span class="s">"Copyright 2016 MyCompany"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;p&gt;&lt;small&gt;Copyright 2016 MyCompany&lt;/small&gt;&lt;/p&gt;"</span>
<span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">trackingSettings</span><span class="o">.</span><span class="n">clickTracking</span> <span class="o">=</span> <span class="kt">ClickTracking</span><span class="p">(</span><span class="nv">section</span><span class="p">:</span> <span class="o">.</span><span class="n">htmlBody</span><span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">trackingSettings</span><span class="o">.</span><span class="n">openTracking</span> <span class="o">=</span> <span class="kt">OpenTracking</span><span class="p">(</span><span class="nv">location</span><span class="p">:</span> <span class="o">.</span><span class="n">off</span><span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='unsubscribe-groups-asm' class='heading'>Unsubscribe Groups (ASM)</h2>

<p>If you use SendGrid&rsquo;s 
<a href="https://sendgrid.com/docs/User_Guide/Suppressions/advanced_suppression_manager.html">unsubscribe groups</a> 
feature, you can specify which unsubscribe group to send an email under like 
so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="c1">/// Assuming your unsubscribe group has an ID of 4815…</span>
<span class="n">email</span><span class="o">.</span><span class="n">asm</span> <span class="o">=</span> <span class="kt">ASM</span><span class="p">(</span><span class="nv">groupID</span><span class="p">:</span> <span class="mi">4815</span><span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>You can also specify which unsubscribe groups should be shown on the 
subscription management page for this email:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="c1">/// Assuming your unsubscribe group has an ID of 4815…</span>
<span class="n">email</span><span class="o">.</span><span class="n">asm</span> <span class="o">=</span> <span class="kt">ASM</span><span class="p">(</span><span class="nv">groupID</span><span class="p">:</span> <span class="mi">4815</span><span class="p">,</span> <span class="nv">groupsToDisplay</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">42</span><span class="p">])</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='ip-pools' class='heading'>IP Pools</h2>

<p>If you&rsquo;re on a pro plan or higher, and have set up 
<a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/IP_Management/ip_pools.html">IP Pools</a> 
on your account, you can specify a specific pool to send an email over like 
so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="c1">/// Assuming you have an IP pool called "transactional" on your account…</span>
<span class="n">email</span><span class="o">.</span><span class="n">ipPoolName</span> <span class="o">=</span> <span class="s">"transactional"</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='scheduled-sends' class='heading'>Scheduled Sends</h2>

<p>If you don&rsquo;t want the email to be sent right away, but rather at some point 
in the future, you can use the <code>sendAt</code> property. <strong>NOTE</strong>: You cannot 
schedule an email further than 72 hours in the future.  You can also assign 
an optional, unique <code>batchID</code> to the email so that you can 
<a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/cancel_schedule_send.html">cancel via the API</a> 
in the future if needed.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="c1">// Schedule the email for 24 hours from now.</span>
<span class="n">email</span><span class="o">.</span><span class="n">sendAt</span> <span class="o">=</span> <span class="kt">Date</span><span class="p">(</span><span class="nv">timeIntervalSinceNow</span><span class="p">:</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>

<span class="c1">// This part is optional, but if you [generated a batch ID](https://sendgrid.com/docs/API_Reference/Web_API_v3/cancel_schedule_send.html)</span>
<span class="c1">// and specify it here, you'll have the ability to cancel this send via the API if needed.</span>
<span class="n">email</span><span class="o">.</span><span class="n">batchID</span> <span class="o">=</span> <span class="s">"76A8C7A6-B435-47F5-AB13-15F06BA2E3WD"</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>In the above example, we&rsquo;ve set the <code>sendAt</code> property on the global email, 
which means every personalization will be scheduled for that time.  You can 
also set the <code>sendAt</code> property on a <code><a href="../Classes/Personalization.html">Personalization</a></code> if you want each one 
to be set to a different time, or only have certain ones scheduled:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">recipientInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">Date</span><span class="p">?]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"jose@example.none"</span><span class="p">:</span> <span class="kt">Date</span><span class="p">(</span><span class="nv">timeIntervalSinceNow</span><span class="p">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">),</span>
    <span class="s">"isaac@example.none"</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="s">"tim@example.none"</span><span class="p">:</span> <span class="kt">Date</span><span class="p">(</span><span class="nv">timeIntervalSinceNow</span><span class="p">:</span> <span class="mi">12</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">let</span> <span class="nv">personalizations</span> <span class="o">=</span> <span class="n">recipientInfo</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="p">(</span><span class="n">recipient</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Personalization</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="n">recipient</span><span class="p">)</span>
    <span class="n">personalization</span><span class="o">.</span><span class="n">sendAt</span> <span class="o">=</span> <span class="n">date</span>
    <span class="k">return</span> <span class="n">personalization</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello there,</span><span class="se">\n\n</span><span class="s">How are you?</span><span class="se">\n\n</span><span class="s">Best,</span><span class="se">\n</span><span class="s">Sender"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;p&gt;Hello there,&lt;/p&gt;&lt;p&gt;How are you?&lt;/p&gt;&lt;p&gt;Best,&lt;br&gt;Sender&lt;/p&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="n">personalizations</span><span class="p">,</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"sender@example.none"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="kc">nil</span>
<span class="p">)</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='categories' class='heading'>Categories</h2>

<p>You can assign categories to an email which will show up in your SendGrid 
stats, Email Activity, and event webhook. You can not have more than 10 
categories per email.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Foo"</span><span class="p">,</span> <span class="s">"Bar"</span><span class="p">]</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='sections' class='heading'>Sections</h2>

<p>Sections allow you to define large blocks of content that can be inserted 
into your emails using substitution tags. An example of this might look like 
the following:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">bob</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"bob@example.com"</span><span class="p">)</span>
<span class="n">bob</span><span class="o">.</span><span class="n">substitutions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">":salutation"</span><span class="p">:</span> <span class="s">":male"</span><span class="p">,</span>
    <span class="s">":name"</span><span class="p">:</span> <span class="s">"Bob"</span><span class="p">,</span>
    <span class="s">":event_details"</span><span class="p">:</span> <span class="s">"event2"</span><span class="p">,</span>
    <span class="s">":event_date"</span><span class="p">:</span> <span class="s">"Feb 14"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">alice</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"alice@example.com"</span><span class="p">)</span>
<span class="n">alice</span><span class="o">.</span><span class="n">substitutions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">":salutation"</span><span class="p">:</span> <span class="s">":female"</span><span class="p">,</span>
    <span class="s">":name"</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">,</span>
    <span class="s">":event_details"</span><span class="p">:</span> <span class="s">"event1"</span><span class="p">,</span>
    <span class="s">":event_date"</span><span class="p">:</span> <span class="s">"Jan 1"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">casey</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"casey@example.com"</span><span class="p">)</span>
<span class="n">casey</span><span class="o">.</span><span class="n">substitutions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">":salutation"</span><span class="p">:</span> <span class="s">":neutral"</span><span class="p">,</span>
    <span class="s">":name"</span><span class="p">:</span> <span class="s">"Casey"</span><span class="p">,</span>
    <span class="s">":event_details"</span><span class="p">:</span> <span class="s">"event1"</span><span class="p">,</span>
    <span class="s">":event_date"</span><span class="p">:</span> <span class="s">"Aug 11"</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">bob</span><span class="p">,</span>
    <span class="n">alice</span><span class="p">,</span>
    <span class="n">casey</span>
<span class="p">]</span>
<span class="k">let</span> <span class="nv">plainText</span> <span class="o">=</span> <span class="s">":salutation,</span><span class="se">\n\n</span><span class="s">Please join us for the :event_details."</span>
<span class="k">let</span> <span class="nv">htmlText</span> <span class="o">=</span> <span class="s">"&lt;p&gt;:salutation,&lt;/p&gt;&lt;p&gt;Please join us for the :event_details.&lt;/p&gt;"</span>
<span class="k">let</span> <span class="nv">content</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span><span class="nv">plain</span><span class="p">:</span> <span class="n">plainText</span><span class="p">,</span> <span class="nv">html</span><span class="p">:</span> <span class="n">htmlText</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="n">personalization</span><span class="p">,</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"from@example.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">content</span>
<span class="p">)</span>
<span class="n">email</span><span class="o">.</span><span class="n">subject</span> <span class="o">=</span> <span class="s">"Hello World"</span>
<span class="n">email</span><span class="o">.</span><span class="n">sections</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">":male"</span><span class="p">:</span> <span class="s">"Mr. :name"</span><span class="p">,</span>
    <span class="s">":female"</span><span class="p">:</span> <span class="s">"Ms. :name"</span><span class="p">,</span>
    <span class="s">":neutral"</span><span class="p">:</span> <span class="s">":name"</span><span class="p">,</span>
    <span class="s">":event1"</span><span class="p">:</span> <span class="s">"New User Event on :event_date"</span><span class="p">,</span>
    <span class="s">":event2"</span><span class="p">:</span> <span class="s">"Veteran User Appreciation on :event_date"</span>
<span class="p">]</span>
</code></pre>
<h2 id='template-engine' class='heading'>Template Engine</h2>

<p>If you use SendGrid&rsquo;s 
<a href="https://sendgrid.com/docs/User_Guide/Transactional_Templates/index.html">Template Engine</a>, 
you can specify a template to apply to an email like so:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">personalization</span> <span class="o">=</span> <span class="kt">Personalization</span><span class="p">(</span><span class="nv">recipients</span><span class="p">:</span> <span class="s">"test@example.com"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">contents</span> <span class="o">=</span> <span class="kt">Content</span><span class="o">.</span><span class="nf">emailBody</span><span class="p">(</span>
    <span class="nv">plain</span><span class="p">:</span> <span class="s">"Hello World"</span><span class="p">,</span>
    <span class="nv">html</span><span class="p">:</span> <span class="s">"&lt;h1&gt;Hello World&lt;/h1&gt;"</span>
<span class="p">)</span>
<span class="k">let</span> <span class="nv">email</span> <span class="o">=</span> <span class="kt">Email</span><span class="p">(</span>
    <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="n">personalization</span><span class="p">],</span>
    <span class="nv">from</span><span class="p">:</span> <span class="kt">Address</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"foo@bar.com"</span><span class="p">),</span>
    <span class="nv">content</span><span class="p">:</span> <span class="n">contents</span><span class="p">,</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Hello World"</span>
<span class="p">)</span>
<span class="c1">/// Assuming you have a template with ID "52523e14-7e47-45ed-ab32-0db344d8cf9z" on your account…</span>
<span class="n">email</span><span class="o">.</span><span class="n">templateID</span> <span class="o">=</span> <span class="s">"52523e14-7e47-45ed-ab32-0db344d8cf9z"</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">try</span> <span class="kt">Session</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="n">email</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">httpUrlResponse</span><span class="p">?</span><span class="o">.</span><span class="n">statusCode</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Properties"></a>
                <a name="//apple_ref/swift/Section/Properties" class="dashAnchor"></a>
                <a href="#/Properties">
                  <h3 class="section-name">Properties</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC21supportsImpersonationSbv"></a>
                    <a name="//apple_ref/swift/Property/supportsImpersonation" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC21supportsImpersonationSbv">supportsImpersonation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>Bool</code> indicating if the request supports the <q>On-behalf-of</q> header.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">override</span> <span class="k">var</span> <span class="nv">supportsImpersonation</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC16personalizationsSayAA15PersonalizationCGv"></a>
                    <a name="//apple_ref/swift/Property/personalizations" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC16personalizationsSayAA15PersonalizationCGv">personalizations</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An array of personalization instances representing the various
recipients of the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/Personalization.html">Personalization</a></span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC7contentSayAA7ContentVGv"></a>
                    <a name="//apple_ref/swift/Property/content" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC7contentSayAA7ContentVGv">content</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The content sections of the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">content</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/Content.html">Content</a></span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC7subjectSSSgv"></a>
                    <a name="//apple_ref/swift/Property/subject" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC7subjectSSSgv">subject</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The subject of the email. If the personalizations in the email contain
subjects, those will override this subject.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">subject</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC4fromAA7AddressVv"></a>
                    <a name="//apple_ref/swift/Property/from" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC4fromAA7AddressVv">from</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The sending address on the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">from</span><span class="p">:</span> <span class="kt"><a href="../Structs/Address.html">Address</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC7replyToAA7AddressVSgv"></a>
                    <a name="//apple_ref/swift/Property/replyTo" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC7replyToAA7AddressVSgv">replyTo</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The reply to address on the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">replyTo</span><span class="p">:</span> <span class="kt"><a href="../Structs/Address.html">Address</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC11attachmentsSayAA10AttachmentCGSgv"></a>
                    <a name="//apple_ref/swift/Property/attachments" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC11attachmentsSayAA10AttachmentCGSgv">attachments</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Attachments to add to the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">attachments</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/Attachment.html">Attachment</a></span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC10templateIDSSSgv"></a>
                    <a name="//apple_ref/swift/Property/templateID" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC10templateIDSSSgv">templateID</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The ID of a template from the Template Engine to use with the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">templateID</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC7headerss10DictionaryVyS2SGSgv"></a>
                    <a name="//apple_ref/swift/Property/headers" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC7headerss10DictionaryVyS2SGSgv">headers</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Additional headers that should be added to the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">String</span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC10categoriesSaySSGSgv"></a>
                    <a name="//apple_ref/swift/Property/categories" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC10categoriesSaySSGSgv">categories</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Categories to associate with the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">categories</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC8sectionss10DictionaryVyS2SGSgv"></a>
                    <a name="//apple_ref/swift/Property/sections" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC8sectionss10DictionaryVyS2SGSgv">sections</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A dictionary of key/value pairs that define large blocks of content that
can be inserted into your emails using substitution tags. An example of
this might look like the following:</p>
<pre class="highlight plaintext"><code>let bob = Personalization(recipients: "bob@example.com")
bob.substitutions = [
    ":salutation": ":male",
    ":name": "Bob",
    ":event_details": "event2",
    ":event_date": "Feb 14"
]

let alice = Personalization(recipients: "alice@example.com")
alice.substitutions = [
    ":salutation": ":female",
    ":name": "Alice",
    ":event_details": "event1",
    ":event_date": "Jan 1"
]

let casey = Personalization(recipients: "casey@example.com")
casey.substitutions = [
    ":salutation": ":neutral",
    ":name": "Casey",
    ":event_details": "event1",
    ":event_date": "Aug 11"
]

let personalization = [
    bob,
    alice,
    casey
]
let plainText = ":salutation,\n\nPlease join us for the :event_details."
let htmlText = "&lt;p&gt;:salutation,&lt;/p&gt;&lt;p&gt;Please join us for the :event_details.&lt;/p&gt;"
let content = Content.emailBody(plain: plainText, html: htmlText)
let email = Email(
    personalizations: personalization,
    from: Address(emailAddress: "from@example.com"),
    content: content
)
email.subject = "Hello World"
email.sections = [
    ":male": "Mr. :name",
    ":female": "Ms. :name",
    ":neutral": ":name",
    ":event1": "New User Event on :event_date",
    ":event2": "Veteran User Appreciation on :event_date"
]
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">sections</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">String</span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC15customArgumentss10DictionaryVyS2SGSgv"></a>
                    <a name="//apple_ref/swift/Property/customArguments" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC15customArgumentss10DictionaryVyS2SGSgv">customArguments</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A set of custom arguments to add to the email. The keys of the
dictionary should be the names of the custom arguments, while the values
should represent the value of each custom argument. If personalizations
in the email also contain custom arguments, they will be merged with
these custom arguments, taking a preference to the personalization&rsquo;s
custom arguments in the case of a conflict.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">customArguments</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">String</span><span class="p">]?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC3asmAA3ASMVSgv"></a>
                    <a name="//apple_ref/swift/Property/asm" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC3asmAA3ASMVSgv">asm</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An <code><a href="../Structs/ASM.html">ASM</a></code> instance representing the unsubscribe group settings to apply
to the email.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">asm</span><span class="p">:</span> <span class="kt"><a href="../Structs/ASM.html">ASM</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC6sendAt10Foundation4DateVSgv"></a>
                    <a name="//apple_ref/swift/Property/sendAt" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC6sendAt10Foundation4DateVSgv">sendAt</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An optional time to send the email at.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">sendAt</span><span class="p">:</span> <span class="kt">Date</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC7batchIDSSSgv"></a>
                    <a name="//apple_ref/swift/Property/batchID" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC7batchIDSSSgv">batchID</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This ID represents a batch of emails (AKA multiple sends of the same
email) to be associated to each other for scheduling. Including a
<code>batch_id</code> in your request allows you to include this email in that
batch, and also enables you to cancel or pause the delivery of that
entire batch. For more information, please read about <a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/cancel_schedule_send.html">Cancel Scheduled
Sends</a>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">batchID</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC10ipPoolNameSSSgv"></a>
                    <a name="//apple_ref/swift/Property/ipPoolName" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC10ipPoolNameSSSgv">ipPoolName</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The IP Pool that you would like to send this email from. See the <a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/IP_Management/ip_pools.html#-POST">docs
page</a>
for more information about creating IP Pools.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">ipPoolName</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC12mailSettingsAA04MailE0Vv"></a>
                    <a name="//apple_ref/swift/Property/mailSettings" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC12mailSettingsAA04MailE0Vv">mailSettings</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An optional array of mail settings to configure the email with.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">mailSettings</span> <span class="o">=</span> <span class="kt"><a href="../Structs/MailSettings.html">MailSettings</a></span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC16trackingSettingsAA08TrackingE0Vv"></a>
                    <a name="//apple_ref/swift/Property/trackingSettings" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC16trackingSettingsAA08TrackingE0Vv">trackingSettings</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An optional array of tracking settings to configure the email with.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">trackingSettings</span> <span class="o">=</span> <span class="kt"><a href="../Structs/TrackingSettings.html">TrackingSettings</a></span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Initialization"></a>
                <a name="//apple_ref/swift/Section/Initialization" class="dashAnchor"></a>
                <a href="#/Initialization">
                  <h3 class="section-name">Initialization</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailCACSayAA15PersonalizationCG16personalizations_AA7AddressV4fromSayAA7ContentVG7contentSSSg7subjecttcfc"></a>
                    <a name="//apple_ref/swift/Method/init(personalizations:from:content:subject:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailCACSayAA15PersonalizationCG16personalizations_AA7AddressV4fromSayAA7ContentVG7contentSSSg7subjecttcfc">init(personalizations:from:content:subject:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initializes the email request with a list of personalizations, a from
address, content, and a subject.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">personalizations</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/Personalization.html">Personalization</a></span><span class="p">],</span> <span class="nv">from</span><span class="p">:</span> <span class="kt"><a href="../Structs/Address.html">Address</a></span><span class="p">,</span> <span class="nv">content</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/Content.html">Content</a></span><span class="p">],</span> <span class="nv">subject</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>personalizations</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An array of personalization instances.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>from</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A from address to use in the email.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>content</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An array of content instances to use in the
                body.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>subject</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional global subject line.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Methods"></a>
                <a name="//apple_ref/swift/Section/Methods" class="dashAnchor"></a>
                <a href="#/Methods">
                  <h3 class="section-name">Methods</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC8validateyyKF"></a>
                    <a name="//apple_ref/swift/Method/validate()" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC8validateyyKF">validate()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Validates all the email properties and bubbles up errors.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">override</span> <span class="kd">func</span> <span class="nf">validate</span><span class="p">()</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8SendGrid5EmailC8supportsSbAA14AuthenticationV4auth_tF"></a>
                    <a name="//apple_ref/swift/Method/supports(auth:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8SendGrid5EmailC8supportsSbAA14AuthenticationV4auth_tF">supports(auth:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Before a <code><a href="../Classes/Session.html">Session</a></code> instance makes an API call, it will call this method
to double check that the auth method it&rsquo;s about to use is supported by
the endpoint. In general, this will always return <code>true</code>, however some
endpoints, such as the mail send endpoint, only support API keys.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">override</span> <span class="kd">func</span> <span class="nf">supports</span><span class="p">(</span><span class="nv">auth</span><span class="p">:</span> <span class="kt"><a href="../Structs/Authentication.html">Authentication</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>auth</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code>Authentication</code> instance that&rsquo;s about to be
                used.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A <code>Bool</code> indicating if the authentication method is
                supported.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/scottkawai/sendgrid-swift" target="_blank" rel="external">Scott Kawai</a>. All rights reserved. (Last updated: 2017-09-24)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
